<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="btn">Get Text File</button>

    <br>
    <br>
    <div></div>
</body>

<script>
    const btn = document.querySelector('#btn');
    const div = document.querySelector('div');

    btn.addEventListener('click', loadText);

    function loadText() {
        //create XHR Object
        const xhr = new XMLHttpRequest();

        //OPEN - type, url/file,async
        xhr.open('GET', 'sample.txt', true);

        console.log('READYSTATE', xhr.readyState);

        //OPTIONAL -used for loaders

        xhr.onprogress = function(){
            console.log('READYSTATE', xhr.readyState);
        }


        
        xhr.onload = function () {
            console.log('READYSTATE', xhr.readyState);
            if (xhr.status == 200) {
                console.log(this.responseText);
                div.innerHTML =this.responseText
            }else if(this.status ==404){
                div.innerHTML ="NOt Found"
            }
        } 

        xhr.onerror = function(){
            console.log('request error')
        }
        
       

        //older method
        // xhr.onreadystatechange =function(){
        //     console.log('READYSTATE', xhr.readyState);
        //     if(this.readyState ==4 && this.status==200){
        //         console.log(this.responseText);
        //     }
        // }

        //sends request
        xhr.send();
    }

</script>


</html>